{"version":3,"sources":["webpack:///./src/views/HandWritingBoard/index.vue?e38e","webpack:///src/views/HandWritingBoard/index.vue","webpack:///./src/views/HandWritingBoard/index.vue?80aa","webpack:///./src/views/HandWritingBoard/index.vue?972e","webpack:///./src/views/HandWritingBoard/index.vue?ebe0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","filePath","ref","canvasWidth","canvasHeight","on","onStart","onMove","onEnd","onClear","_v","onGenerate","staticRenderFns","name","props","path","type","String","default","data","offsetWidth","offsetHeight","lineWidth","lineColor","mounted","methods","$emit","component"],"mappings":"2HAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEN,EAAY,SAAEI,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMP,EAAIQ,SAAS,IAAM,MAAMJ,EAAG,SAAS,CAACK,IAAI,gBAAgBH,YAAY,cAAcC,MAAM,CAAC,MAAQP,EAAIU,YAAY,OAASV,EAAIW,cAAcC,GAAG,CAAC,WAAaZ,EAAIa,QAAQ,UAAYb,EAAIc,OAAO,SAAWd,EAAIe,SAASX,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgBM,GAAG,CAAC,MAAQZ,EAAIgB,UAAU,CAAChB,EAAIiB,GAAG,QAAQb,EAAG,MAAM,CAACE,YAAY,mBAAmBM,GAAG,CAAC,MAAQZ,EAAIkB,aAAa,CAAClB,EAAIiB,GAAG,aACnkBE,EAAkB,GCqBtB,GACEC,KAAM,cACNC,MAAO,CACLC,KAAM,CACJC,KAAMC,OACNC,QAAS,KAGbC,KAAM,WACJ,MAAO,CAELC,YAAa,EACbC,aAAc,EAEdlB,YAAa,IAEbC,aAAc,IAEdkB,UAAW,GAEXC,UAAW,OAEXtB,SAAU,KAGduB,QAzBF,WA0BI,KAAJ,QAEEC,QAAS,CAEP,KAFJ,WAIM,IAAN,2BACM,KAAN,0BACM,KAAN,4BAEM,KAAN,uBACA,iBACQ,KAAR,qBAGI,WAbJ,SAaA,GAEM,IAAN,uCACA,sCAEM,KAAN,gBACM,KAAN,cAGI,QAtBJ,SAsBA,GAEM,KAAN,+BACM,KAAN,6BACM,KAAN,gBACM,KAAN,6BACM,KAAN,+BACM,KAAN,oBACM,KAAN,qBACM,KAAN,eAGI,OAlCJ,SAkCA,GACM,KAAN,eAGI,MAtCJ,WAuCM,KAAN,iBAGI,QA1CJ,WA0CM,IAAN,OACM,KAAN,sDACM,KAAN,YAEM,KAAN,iBACM,KAAN,qBACQ,EAAR,UAII,WApDJ,WAqDA,cACQ,KAAR,wBAEQ,KAAR,8CAEQ/B,KAAKgC,MAAM,aAAchC,KAAKO,cC5GwT,I,wBCQ1V0B,EAAY,eACd,EACAnC,EACAoB,GACA,EACA,KACA,WACA,MAIa,aAAAe,E,kECnBf,yBAAmf,EAAG","file":"js/handWritingBoard.da51f5de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hand-writing\"},[(_vm.filePath)?_c('img',{attrs:{\"src\":_vm.filePath,\"alt\":\"\"}}):_c('canvas',{ref:\"writingCanvas\",staticClass:\"writing-box\",attrs:{\"width\":_vm.canvasWidth,\"height\":_vm.canvasHeight},on:{\"touchstart\":_vm.onStart,\"touchmove\":_vm.onMove,\"touchend\":_vm.onEnd}}),_c('div',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"btn btn-clear\",on:{\"click\":_vm.onClear}},[_vm._v(\"清屏\")]),_c('div',{staticClass:\"btn btn-generate\",on:{\"click\":_vm.onGenerate}},[_vm._v(\"生成\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"hand-writing\">\r\n      <img v-if=\"filePath\" :src=\"filePath\" alt=\"\">\r\n      <canvas \r\n        v-else\r\n        ref=\"writingCanvas\" \r\n        class=\"writing-box\" \r\n        :width=\"canvasWidth\" \r\n        :height=\"canvasHeight\" \r\n        @touchstart=\"onStart\"\r\n        @touchmove=\"onMove\" \r\n        @touchend=\"onEnd\">\r\n      </canvas>\r\n      <div class=\"btn-box\">\r\n        <div class=\"btn btn-clear\" @click=\"onClear\">清屏</div>\r\n        <div class=\"btn btn-generate\" @click=\"onGenerate\">生成</div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'HandWriting',\r\n  props: {\r\n    path: {\r\n      type: String,\r\n      default: '',\r\n    }\r\n  },\r\n  data: function() {\r\n    return {\r\n      // 画板坐标\r\n      offsetWidth: 0,\r\n      offsetHeight: 0,\r\n      // 画板宽度\r\n      canvasWidth: 500,\r\n      // 画板高度\r\n      canvasHeight: 500,\r\n      // 线条宽度\r\n      lineWidth: 10,\r\n      // 线条颜色\r\n      lineColor: '#000',\r\n      // 图片地址\r\n      filePath: '',\r\n    };\r\n  },\r\n  mounted() {\r\n      this.init()\r\n  },\r\n  methods: {\r\n      // 画板初始化\r\n      init () {\r\n        // 获取canvas\r\n        const canvas = this.$refs.writingCanvas\r\n        this.canvasWidth = canvas.offsetWidth\r\n        this.canvasHeight = canvas.offsetHeight\r\n        // 获取context对象\r\n        this.ctx = canvas.getContext('2d')\r\n        if (this.path !== '') {\r\n          this.filePath = this.path\r\n        }\r\n      },\r\n      handleDraw (e) {\r\n        // 获取点击点的坐标\r\n        let x = e.touches[0].clientX - this.offsetLeft\r\n        let y = e.touches[0].clientY - this.offsetTop\r\n        // 绘制\r\n        this.ctx.lineTo(x, y)\r\n        this.ctx.stroke()\r\n      },\r\n      // 开始触摸\r\n      onStart (e) {\r\n        // 获取偏移量\r\n        this.offsetLeft = e.target.offsetLeft\r\n        this.offsetTop = e.target.offsetTop\r\n        this.ctx.beginPath()\r\n        this.ctx.lineWidth = this.lineWidth\r\n        this.ctx.strokeStyle = this.lineColor\r\n        this.ctx.lineCap = 'round'\r\n        this.ctx.lineJoin = 'round'\r\n        this.handleDraw(e)\r\n      },\r\n      // 移动\r\n      onMove (e) {\r\n        this.handleDraw(e)\r\n      },\r\n      // 停止触摸\r\n      onEnd () {\r\n        this.ctx.closePath()\r\n      },\r\n      // 点击取消\r\n      onClear () {\r\n        this.ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight)\r\n        this.filePath = ''\r\n        // 清除的回调\r\n        this.$emit('onClear')\r\n        this.$nextTick(() => {\r\n          this.init()\r\n        })\r\n      },\r\n      // 点击确认\r\n      onGenerate () {\r\n        if(this.filePath) {\r\n          this.filePath = this.filePath\r\n        } else {\r\n          this.filePath = this.$refs.writingCanvas.toDataURL()\r\n          // 生成图片的回调\r\n        this.$emit('onComplete', this.filePath)\r\n        }\r\n      },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.hand-writing {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: #fff;\r\n}\r\n\r\n.writing-box {\r\n    display: block;\r\n    margin: 0 auto;\r\n    width: 100%;\r\n    height: 80%;\r\n    background: #ccc;\r\n}\r\n.btn-box {\r\n  margin: 0 auto;\r\n  width: 300px;\r\n  height: 20%;\r\n}\r\n.btn {\r\n  box-sizing: border-box;\r\n  margin: 20px 25px;\r\n  display: inline-block;\r\n  width: 100px;\r\n  height: 50px;\r\n  border: 1px solid #1890ff;\r\n  border-radius: 10px;\r\n  background: #1890ff;\r\n  color: #fff;\r\n  text-align: center;\r\n  line-height: 50px;\r\n}\r\n\r\n.btn:active {\r\n  background: #fff;\r\n  color: #000;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=28b9131a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=28b9131a&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28b9131a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=28b9131a&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=28b9131a&lang=css&scoped=true&\""],"sourceRoot":""}